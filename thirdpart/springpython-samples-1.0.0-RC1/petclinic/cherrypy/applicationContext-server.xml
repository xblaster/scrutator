<?xml version="1.0" encoding="UTF-8"?>
<components xmlns="http://www.springframework.org/springpython/schema/pycontainer-components"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/springpython/schema/pycontainer-components
       		http://springpython.webfactional.com/schema/context/spring-python-pycontainer-context-1.0.xsd">

	<component id="connectionFactory" class="springpython.database.factory.MySQLConnectionFactory">
		<property name="username">"springpython"</property>
		<property name="password">"springpython"</property>
		<property name="hostname">"localhost"</property>
		<property name="db">"petclinic"</property>
	</component>
	
	<component id="remoteController" class="controller.PetClinicController">
		<property name="connection_factory" local="connectionFactory"/>
	</component>
	
	<component id="controllerExporter" class="springpython.remoting.pyro.PyroServiceExporter">
		<property name="service_name">"Controller"</property>
		<property name="service" local="remoteController"/>
	</component>
	
	<component id="remoteUserDetailsService" class="springpython.security.userdetails.dao.DatabaseUserDetailsService">
		<property name="dataSource" local="connectionFactory"/>
	</component>

	<component id="userDetailsServiceExporter" class="springpython.remoting.pyro.PyroServiceExporter">
		<property name="service_name">"UserDetails"</property>
		<property name="service" local="remoteUserDetailsService"/>
	</component>
	
</components>
